/**
 * Special-cases for the sphinx-design lib
 * Mainly to make it compatible with the dark/light themes of pydata-sphinx-theme
 */

/*******************************************************************************
 * shadows
 */
html[data-theme="light"] {
  .sd-shadow-xs,
  .sd-shadow-sm,
  .sd-shadow-md,
  .sd-shadow-lg {
    box-shadow: 0 0.5rem 1rem var(--pst-color-shadow) !important;  // !important to over-ride an aggressive SD rule
  }
}

/*******************************************************************************
 * cards
 */

.bd-content .sd-card {
  border: 1px solid var(--pst-color-border);

  .sd-card-header {
    background-color: var(--pst-color-panel-background);
    border-bottom: 1px solid var(--pst-color-border);
  }
  .sd-card-footer {
    background-color: var(--pst-color-panel-background);
    border-top: 1px solid var(--pst-color-border);
  }

  .sd-card-body {
    background-color: var(--pst-color-panel-background);
  }
}

.bd-content details {
  &.sd-dropdown:not([open]) > .sd-card-header {
    border: none;
  }
}
/*******************************************************************************
 * tabs
 */

.bd-content .sd-tab-set {
  > input {
    // Active tab label
    &:checked + label {
      border-color: var(--pst-color-primary);
      color: var(--pst-color-primary);
    }

    // hover label
    &:not(:checked) + label:hover {
      border-color: var(--pst-color-primary);
      color: var(--pst-color-primary);
      opacity: 0.5;
    }
  }

  // Tab label
  > label {
    color: var(--pst-color-text-muted);

    // Hovered label
    html &:hover {
      color: var(--pst-color-primary);
      border-color: var(--pst-color-primary);
      opacity: 0.5;
    }
  }
}
/*******************************************************************************
* color overrides. Here we recreate the sphinx-design rules for colors
* (including button and badge colors), and assign our own --pst-color-*
* variables instead of --sd-color-*.
*/
$sd-semantic-color-names: (
  "primary",
  "secondary",
  "success",
  "info",
  "warning",
  "danger",
  "light",
  "muted",
  "dark",
  "black",
  "white"
);

html[data-theme="light"],
html[data-theme="dark"] {
  @each $name in $sd-semantic-color-names {
    .sd-bg-#{$name} {
      background-color: var(--pst-color-#{$name}) !important;
    }
    .sd-text-#{$name} {
      color: var(--pst-color-#{$name}) !important;
    }
    .sd-outline-#{$name} {
      border-color: var(--pst-color-#{$name}) !important;
    }
    .sd-bg-text-#{$name} {
      color: var(--pst-color-#{$name}-text) !important;
    }
    a {
      &.sd-btn-#{$name} {
        color: var(--pst-color-#{$name}-text) !important;
        border-color: var(--pst-color-#{$name}) !important;
        background-color: var(--pst-color-#{$name}) !important;
      }
      &.sd-btn-#{$name}:focus,
      &.sd-btn-#{$name}:hover {
        color: var(--pst-color-#{$name}-text) !important;
        border-color: var(--pst-color-#{$name}-highlight) !important;
        background-color: var(--pst-color-#{$name}-highlight) !important;
      }
    }
  }
}
