{# As the version switcher will only work when JavaScript is enabled, we add it through JavaScript. #}
{% set base_button_id = "pst-version-switcher-button" %}
{% set base_dropdown_id = "pst-version-switcher-list" %}
{% if parent_template_name %}
  {% set button_id = create_next_id(base_button_id + "-in-" + parent_template_name) %}
  {% set dropdown_id = create_next_id(base_dropdown_id + "-in-" + parent_template_name) %}
{% else %}
  {% set button_id = create_next_id(base_button_id) %}
  {% set dropdown_id = create_next_id(base_dropdown_id) %}
{% endif %}
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="{{ button_id }}" type="button" role="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown" aria-haspopup="listbox"
      aria-controls="{{ dropdown_id }}" aria-label="Version switcher list">
      <!-- this text may get changed later by javascript -->
      {{ theme_switcher.get('version_match') }}
      <span class="caret"></span>
    </button>
    <div id="{{ dropdown_id }}"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="{{ button_id }}">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script>
